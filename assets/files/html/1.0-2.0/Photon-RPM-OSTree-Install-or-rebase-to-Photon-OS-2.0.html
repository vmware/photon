
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Install or rebase to Photon OS 2.0 Â· VMware Photon OS 1.0 and 2.0 Documentation</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-insert-logo/plugin.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-chapter-fold/chapter-fold.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-noembed/style.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html" />
    
    
    <link rel="prev" href="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Photon OS 1.0 and 2.0</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="getting-started-guides.html">
            
                <a href="getting-started-guides.html">
            
                    
                    Getting Started Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="Downloading-Photon-OS.html">
            
                <a href="Downloading-Photon-OS.html">
            
                    
                    Downloading Photon OS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="photon-admin-guide.html">
            
                <a href="photon-admin-guide.html#getting-started-with-photon-os-20">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="Upgrading-to-Photon-OS-2.0.html">
            
                <a href="Upgrading-to-Photon-OS-2.0.html">
            
                    
                    Upgrading to Photon OS 2.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="What-is-New-in-Photon-OS-2.0.html">
            
                <a href="What-is-New-in-Photon-OS-2.0.html">
            
                    
                    What is New in Photon OS 2.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="Running-Photon-OS-on-vSphere.html">
            
                <a href="Running-Photon-OS-on-vSphere.html">
            
                    
                    Running Photon OS on vSphere
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="Running-Project-Photon-on-Fusion.html">
            
                <a href="Running-Project-Photon-on-Fusion.html">
            
                    
                    Running Photon OS on Fusion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="Running-Photon-OS-on-Workstation.html">
            
                <a href="Running-Photon-OS-on-Workstation.html">
            
                    
                    Running Photon OS on Workstation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="Running-Photon-OS-on-Amazon-Elastic-Cloud-Compute.html">
            
                <a href="Running-Photon-OS-on-Amazon-Elastic-Cloud-Compute.html">
            
                    
                    Running Photon OS on AWS EC2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="Running-Photon-OS-on-Microsoft-Azure.html">
            
                <a href="Running-Photon-OS-on-Microsoft-Azure.html">
            
                    
                    Running Photon OS on Microsoft Azure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="Running-Photon-OS-on-Google-Compute-Engine.html">
            
                <a href="Running-Photon-OS-on-Google-Compute-Engine.html">
            
                    
                    Running Photon OS on Google Compute Engine
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.10.1" data-path="gce.html">
            
                <a href="gce.html">
            
                    
                    Photon OS on GCE
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="Running-Project-Photon-on-vCloud-Air.html">
            
                <a href="Running-Project-Photon-on-vCloud-Air.html">
            
                    
                    Running Project Photon on vCloud Air
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="admin-guides.html">
            
                <a href="admin-guides.html">
            
                    
                    Administration Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="photon-admin-guide.html">
            
                <a href="photon-admin-guide.html">
            
                    
                    Photon OS Administration Guide
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="pmd-cli.html">
            
                <a href="pmd-cli.html">
            
                    
                    Photon Management Daemon Command-line Interface (pmd-cli)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="netmgr.c.html">
            
                <a href="netmgr.c.html">
            
                    
                    Network Configuration Manager - C API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="netmgr-cli.html">
            
                <a href="netmgr-cli.html">
            
                    
                    Photon Network Manager Command-line Interface (netmgr)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="netmgr.python.html">
            
                <a href="netmgr.python.html">
            
                    
                    Network Configuration Manager - Python API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="pmd-cli.html">
            
                <a href="pmd-cli.html">
            
                    
                    How to use Photon Management Daemon
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="tdnf.html">
            
                <a href="tdnf.html">
            
                    
                    Managing Packages in Photon OS with tdnf
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="Photon-RPM-OSTree-a-simple-guide.html">
            
                <a href="Photon-RPM-OSTree-a-simple-guide.html">
            
                    
                    Photon RPM OSTree
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="Photon-RPM-OSTree-1-Introduction.html">
            
                <a href="Photon-RPM-OSTree-1-Introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1.1" data-path="Photon-RPM-OSTree-1-Introduction.html">
            
                <a href="Photon-RPM-OSTree-1-Introduction.html#11-what-is-ostree-how-about-rpm-ostree">
            
                    
                    What is OSTree? How about   RPM-OSTree?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.2" data-path="Photon-RPM-OSTree-1-Introduction.html">
            
                <a href="Photon-RPM-OSTree-1-Introduction.html#12-why-use-rpm-ostree-in-photon">
            
                    
                    Why use RPM-OSTree in Photon?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.3" data-path="Photon-RPM-OSTree-1-Introduction.html">
            
                <a href="Photon-RPM-OSTree-1-Introduction.html#13-photon-with-rpm-ostree-installation-profiles">
            
                    
                    Photon with RPM-OSTree installation profiles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.4" data-path="Photon-RPM-OSTree-1-Introduction.html">
            
                <a href="Photon-RPM-OSTree-1-Introduction.html#14-terminology">
            
                    
                    Terminology
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.5" data-path="Photon-RPM-OSTree-1-Introduction.html">
            
                <a href="Photon-RPM-OSTree-1-Introduction.html#15-sample-code">
            
                    
                    Sample code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.6" >
            
                <a target="_blank" href="Photon-RPM-OSTree:-1-Introduction#16-how-to-read-this-book">
            
                    
                    How to read this book
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.1.7" >
            
                <a target="_blank" href="Photon-RPM-OSTree:-1-Introduction#17-rpm-ostree-in-photon-os-20">
            
                    
                    RPM-OSTree in Photon OS 2.0
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="Photon-RPM-OSTree-2-Installing-a-host-against-default-server-repository.html">
            
                <a href="Photon-RPM-OSTree-2-Installing-a-host-against-default-server-repository.html">
            
                    
                    Installing a Photon RPM-OSTree host against default server repository
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.2.1" data-path="Photon-RPM-OSTree-2-Installing-a-host-against-default-server-repository.html">
            
                <a href="Photon-RPM-OSTree-2-Installing-a-host-against-default-server-repository.html#21-who-is-this-for">
            
                    
                    Who is this for?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2.2" data-path="Photon-RPM-OSTree-2-Installing-a-host-against-default-server-repository.html">
            
                <a href="Photon-RPM-OSTree-2-Installing-a-host-against-default-server-repository.html#22-installing-the-iso-step-by-step">
            
                    
                    Installing the ISO, step by step
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="Photon-RPM-OStree-3-Concepts-in-action.html">
            
                <a href="Photon-RPM-OStree-3-Concepts-in-action.html">
            
                    
                    Concepts in action
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.3.1" data-path="Photon-RPM-OStree-3-Concepts-in-action.html">
            
                <a href="Photon-RPM-OStree-3-Concepts-in-action.html#31-querying-the-deployed-filetrees">
            
                    
                    Querying the deployed   filetrees
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3.2" data-path="Photon-RPM-OStree-3-Concepts-in-action.html">
            
                <a href="Photon-RPM-OStree-3-Concepts-in-action.html#32-bootable-filetree-version">
            
                    
                    Bootable filetree version
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3.3" data-path="Photon-RPM-OStree-3-Concepts-in-action.html">
            
                <a href="Photon-RPM-OStree-3-Concepts-in-action.html#33-commit-id">
            
                    
                    Commit ID
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3.4" data-path="Photon-RPM-OStree-3-Concepts-in-action.html">
            
                <a href="Photon-RPM-OStree-3-Concepts-in-action.html#34-osname">
            
                    
                    OSname
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3.5" data-path="Photon-RPM-OStree-3-Concepts-in-action.html">
            
                <a href="Photon-RPM-OStree-3-Concepts-in-action.html#35-refspec">
            
                    
                    Refspec
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3.6" data-path="Photon-RPM-OStree-3-Concepts-in-action.html">
            
                <a href="Photon-RPM-OStree-3-Concepts-in-action.html#36-deployments">
            
                    
                    Deployments
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html">
            
                <a href="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html">
            
                    
                    Querying for commit, file and package metadata
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.4.1" data-path="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html">
            
                <a href="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html#41-commit-history">
            
                    
                    Commit history
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4.2" data-path="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html">
            
                <a href="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html#42-listing-file-mappings">
            
                    
                    Listing file mappings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4.3" data-path="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html">
            
                <a href="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html#43-listing-configuration-changes">
            
                    
                    Listing configuration changes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4.4" data-path="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html">
            
                <a href="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html#44-listing-packages">
            
                    
                    Listing packages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4.5" data-path="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html">
            
                <a href="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html#45-querying-for-package-details">
            
                    
                    Querying for package details
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4.6" data-path="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html">
            
                <a href="Photon-RPM-OSTree-4-Querying-for-commit-file-and-package-metadata.html#46-why-am-i-unable-to-install-update-or-delete-packages">
            
                    
                    Why am I unable to install, update or delete packages?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.5" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                    
                    Host updating operations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.5.1" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#51-is-it-an-update-or-an-upgrade">
            
                    
                    Is it an update or an upgrade?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5.2" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#52-incremental-upgrade">
            
                    
                    Incremental upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5.3" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#52-listing-file-differences">
            
                    
                    Listing file differences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5.4" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#52-listing-package-differences">
            
                    
                    Listing package differences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5.5" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#55-rollback">
            
                    
                    Rollback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5.6" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#56-deleting-a-deployed-filetree">
            
                    
                    Deleting a deployed filetree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5.7" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#57-version-skipping-upgrade">
            
                    
                    Version skipping upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5.8" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#58-tracking-parent-commits">
            
                    
                    Tracking parent commits
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5.9" data-path="Photon-RPM-OSTree-5-Host-updating-operations.html">
            
                <a href="Photon-RPM-OSTree-5-Host-updating-operations.html#59-resetting-a-branch-to-a-previous-commit">
            
                    
                    Resetting a branch to a previous commit
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.6" data-path="Photon-RPM-OSTree-6-Installing-a-server.html">
            
                <a href="Photon-RPM-OSTree-6-Installing-a-server.html">
            
                    
                    Installing a Photon RPM-OSTree server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.7" data-path="Photon-RPM-OSTree-7-Installing-a-host-against-a-custom-server-repository.html">
            
                <a href="Photon-RPM-OSTree-7-Installing-a-host-against-a-custom-server-repository.html">
            
                    
                    Installing a Photon RPM-OStree host against a custom server repository
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.7.1" data-path="Photon-RPM-OSTree-7-Installing-a-host-against-a-custom-server-repository.html">
            
                <a href="Photon-RPM-OSTree-7-Installing-a-host-against-a-custom-server-repository.html#71-manual-install-of-a-custom-host">
            
                    
                    Manual install of a custom host
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.7.2" data-path="Photon-RPM-OSTree-7-Installing-a-host-against-a-custom-server-repository.html">
            
                <a href="Photon-RPM-OSTree-7-Installing-a-host-against-a-custom-server-repository.html#72-automated-install-of-a-custom-host-via-kickstart">
            
                    
                    Automated install of a custom host via kickstart
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.8" data-path="Photon-RPM-OStree-8-File-oriented-server-operations.html">
            
                <a href="Photon-RPM-OStree-8-File-oriented-server-operations.html">
            
                    
                    File oriented server operations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.8.1" data-path="Photon-RPM-OStree-8-File-oriented-server-operations.html">
            
                <a href="Photon-RPM-OStree-8-File-oriented-server-operations.html#81-starting-a-fresh-ostree-repo">
            
                    
                    Starting a fresh OSTree repo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.8.2" data-path="Photon-RPM-OStree-8-File-oriented-server-operations.html">
            
                <a href="Photon-RPM-OStree-8-File-oriented-server-operations.html#82-checking-out-a-filetree">
            
                    
                    Checking out a filetree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.8.3" data-path="Photon-RPM-OStree-8-File-oriented-server-operations.html">
            
                <a href="Photon-RPM-OStree-8-File-oriented-server-operations.html#83-committing-changes-to-a-filetree">
            
                    
                    Committing changes to a filetree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.8.4" data-path="Photon-RPM-OStree-8-File-oriented-server-operations.html">
            
                <a href="Photon-RPM-OStree-8-File-oriented-server-operations.html#84-downloading-the-changes-at-the-host">
            
                    
                    Downloading the changes at the host
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.8.5" data-path="Photon-RPM-OStree-8-File-oriented-server-operations.html">
            
                <a href="Photon-RPM-OStree-8-File-oriented-server-operations.html#85-creating-summary-metadata">
            
                    
                    Creating summary metadata
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.9" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                    
                    Package oriented server operations
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.9.1" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html#91-json-configuration-file">
            
                    
                    JSON configuration file
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.9.2" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html#92-package-addition-removal-upgrade">
            
                    
                    Package addition, removal, upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.9.3" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html#93-rpms-repository">
            
                    
                    RPMS repository
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.9.4" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html#94-composing-a-tree">
            
                    
                    Composing a tree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.9.5" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html#95-automatic-version-prefix">
            
                    
                    Automatic version prefix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.9.6" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html#96-installing-package-updates">
            
                    
                    Installing package updates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.9.7" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html#97-creating-server-metadata">
            
                    
                    Creating server metadata
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.9.8" data-path="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">
            
                <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html#98-starting-a-fresh-ostree-repo">
            
                    
                    Starting a fresh OSTree repo
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.10" data-path="Photon-RPM-OSTree-10-Remotes.html">
            
                <a href="Photon-RPM-OSTree-10-Remotes.html">
            
                    
                    Remotes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.10.1" data-path="Photon-RPM-OSTree-10-Remotes.html">
            
                <a href="Photon-RPM-OSTree-10-Remotes.html#101-listing-remotes">
            
                    
                    Listing remotes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.10.2" data-path="Photon-RPM-OSTree-10-Remotes.html">
            
                <a href="Photon-RPM-OSTree-10-Remotes.html#102-gpg-signature-verification">
            
                    
                    GPG signature verification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.10.3" data-path="Photon-RPM-OSTree-10-Remotes.html">
            
                <a href="Photon-RPM-OSTree-10-Remotes.html#103-switching-repositories">
            
                    
                    Switching repositories
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.10.4" data-path="Photon-RPM-OSTree-10-Remotes.html">
            
                <a href="Photon-RPM-OSTree-10-Remotes.html#104-adding-and-removing-remotes">
            
                    
                    Adding and removing remotes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.10.5" data-path="Photon-RPM-OSTree-10-Remotes.html">
            
                <a href="Photon-RPM-OSTree-10-Remotes.html#105-list-available-branches">
            
                    
                    List available branches
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.11" data-path="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html">
            
                <a href="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html">
            
                    
                    Running container applications between bootable images
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.11.1" data-path="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html">
            
                <a href="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html#111-downloading-a-docker-container-appliance">
            
                    
                    Downloading a docker container appliance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.11.2" data-path="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html">
            
                <a href="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html#112-rebooting-into-an-existing-image">
            
                    
                    Rebooting into an existing image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.11.3" data-path="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html">
            
                <a href="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html#113-reboot-into-a-newly-created-image">
            
                    
                    Reboot into a newly created image
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.3.2.12" data-path="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html">
            
                <a href="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html">
            
                    
                    Install or rebase to Photon OS 2.0
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.12.1" data-path="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html">
            
                <a href="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html#121-installing-an-rpm-ostree-server">
            
                    
                    Installing an RPM-OSTree server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.12.2" data-path="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html">
            
                <a href="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html#122-installing-an-rpm-ostree-host">
            
                    
                    Installing an RPM-OSTree host
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.12.3" data-path="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html">
            
                <a href="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html#123-rebasing-a-host-from-photon-10-to-20">
            
                    
                    Rebasing a host from Photon 1.0 to 2.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.12.4" data-path="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html">
            
                <a href="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html#124-creating-a-host-raw-image">
            
                    
                    Creating a host raw image
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="how-to-guides.html">
            
                <a href="how-to-guides.html">
            
                    
                    How-To Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="Install-and-Configure-a-Swarm-Cluster-with-DNS-Service-on-PhotonOS.html">
            
                <a href="Install-and-Configure-a-Swarm-Cluster-with-DNS-Service-on-PhotonOS.html">
            
                    
                    Setting Up a Swarm Cluster with DNS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="Install-and-Configure-a-Production-Ready-Mesos-Cluster-on-Photon-OS.html">
            
                <a href="Install-and-Configure-a-Production-Ready-Mesos-Cluster-on-Photon-OS.html">
            
                    
                    Setting Up a Mesos Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="Install-and-Configure-Marathon-for-Mesos-Cluster-on-PhotonOS.html">
            
                <a href="Install-and-Configure-Marathon-for-Mesos-Cluster-on-PhotonOS.html">
            
                    
                    Setting Up Marathon for a Mesos Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="Install-and-Configure-DCOS-CLI-for-Mesos.html">
            
                <a href="Install-and-Configure-DCOS-CLI-for-Mesos.html">
            
                    
                    Setting Up DCOS CLI for Mesos
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="Install-and-Configure-Mesos-DNS-on-a-Mesos-Cluster.html">
            
                <a href="Install-and-Configure-Mesos-DNS-on-a-Mesos-Cluster.html">
            
                    
                    Setting Up Mesos DNS on a Mesos Cluster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="PXE-boot.html">
            
                <a href="PXE-boot.html">
            
                    
                    Setting Up a Network PXE Boot Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="kickstart.html">
            
                <a href="kickstart.html">
            
                    
                    Working with Kickstart
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="kubernetes.html">
            
                <a href="kubernetes.html">
            
                    
                    Running Kubernetes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="nfs-utils.html">
            
                <a href="nfs-utils.html">
            
                    
                    Mounting Remote File Systems
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="build-photon.html">
            
                <a href="build-photon.html">
            
                    
                    Building Photon OS from the Source Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="Installing-and-Using-Lightwave-on-Photon-OS.html">
            
                <a href="Installing-and-Using-Lightwave-on-Photon-OS.html">
            
                    
                    Installing and Using Lightwave on Photon OS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.11.1" data-path="Installing-Lightwave-Server-and-Setting-Up-a-Domain.html">
            
                <a href="Installing-Lightwave-Server-and-Setting-Up-a-Domain.html">
            
                    
                    Installing the Lightwave Server and Configuring It as a Domain Controller on a Photon Image
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.2" data-path="Installing-Lightwave-Client-and-Joining-a-Domain.html">
            
                <a href="Installing-Lightwave-Client-and-Joining-a-Domain.html">
            
                    
                    Installing the Lightwave Client on a Photon Image and Joining the Client to a Domain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.3" data-path="Installing-the-Photon-Management-Daemon-on-a-Lightwave-Client.html">
            
                <a href="Installing-the-Photon-Management-Daemon-on-a-Lightwave-Client.html">
            
                    
                    Installing the Photon Management Daemon on a Lightwave Client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.4" data-path="Remotely-Upgrade-a-Photon-OS-Machine-With-Lightwave-Client-and-Photon-Management-Daemon-Installed.html">
            
                <a href="Remotely-Upgrade-a-Photon-OS-Machine-With-Lightwave-Client-and-Photon-Management-Daemon-Installed.html">
            
                    
                    Remotely Upgrade a Single Photon OS Machine With Lightwave Client and Photon Management Daemon Installed
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11.5" data-path="Remotely-Upgrade-Photon-OS-Machine-With-Lightwave-Client-and-Photon-Management-Daemon-Installed.html">
            
                <a href="Remotely-Upgrade-Photon-OS-Machine-With-Lightwave-Client-and-Photon-Management-Daemon-Installed.html">
            
                    
                    Remotely Upgrade Multiple Photon OS Machines With Lightwave Client and Photon Management Daemon Installed
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="photon-os-troubleshooting-guide.html">
            
                <a href="photon-os-troubleshooting-guide.html">
            
                    
                    Troubleshooting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="Frequently-Asked-Questions.html">
            
                <a href="Frequently-Asked-Questions.html">
            
                    
                    Frequently Asked Questions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <a target="_blank" href="https://github.com/vmware/photon/wiki/Security-Advisories">
            
                    
                    Security Advisories
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Install or rebase to Photon OS 2.0</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="install-or-rebase-to-photon-os-20">Install or rebase to Photon OS 2.0</h1>
<p>Photon OS 2.0 release has a different focus and while it provides full RPM-OSTree functionality (updated to 2017), it lets the user drive it, rather than provide a pre-defined solution as part of the installation.  </p>
<p>The number of packages included in the RPMS repo in Photon OS 2.0 increased significantly, compared to 1.0. To keep the ISO at reasonable size, Photon OS 2.0 no longer includes the compressed ostree.repo file, that helped optimize both the server and host install in 1.0 or 1.0 Rev2. That decision affected the OSTree features we ship out of the box. Customer could achieve the same results by several additional simple steps, that will be explained in this chapter. In addition, there is a new way to create a host raw image at server.</p>
<h2 id="121-installing-an-rpm-ostree-server">12.1 Installing an RPM-OSTree server</h2>
<p>Photon OS 2.0 installer contains an option to install an OSTree server, just like Photon 1.0 OS does. It will not run, however, the server &apos;compose tree&apos; as part of installation, as most users will want to start from scratch to create their own image anyway, using different package set and customized settings.
In addition to starter photon-base.json, we provide photon-minimal.json and photon-full.json, updated with a 2.0 Refspec. We still fire up an Apache web server, that will point to an empty site initially at the repo directory. Assuming you&apos;ve customized photon-base.json to you liking, all you need to do is to run the commands you are already familiar with from <a href="Photon-RPM-OSTree-9-Package-oriented-server-operations.html">Chapter 9</a>.</p>
<pre><code>root [ /srv/rpm-ostree ]# ostree --repo=repo init --mode=archive-z2
root [ /srv/rpm-ostree ]# rpm-ostree compose tree --repo=repo photon-base.json
</code></pre><p>Now if you point a browser to http://<server_ip_address>, you should see the familiar directory structure of an OSTree repo.</server_ip_address></p>
<h2 id="122-installing-an-rpm-ostree-host">12.2 Installing an RPM-OSTree host</h2>
<p>Photon OS 2.0 installer no longer includes a UI option to deploy a host manually - either against a default or a custom server repo, and also there is no official online Photon OS 2.0 OSTree repo published. This is now completely customer driven.<br>Automated host install is supported, as explained in <a href="Photon-RPM-OSTree-7-Installing-a-host-against-a-custom-server-repository.html#72-automated-install-of-a-custom-host-via-kickstart">Chapter 7.2 Automated install of a custom host via kickstart</a>.  </p>
<h2 id="123-rebasing-a-host-from-photon-10-to-20">12.3 Rebasing a host from Photon 1.0 to 2.0</h2>
<p>If kickstart sounds too complicated and we still want to go the UI way like in 1.0, fortunately, there is a workaround that requires an extra step. Also, if you have an installed Photon 1.0 or 1.0 Rev2 that you want to carry to 2.0, you need to rebase it. Notice that I didn&apos;t say &quot;upgrade&quot;.   </p>
<p>Basically the OSTree repo will switch to a different branch on a different server, following the new server&apos;s branch versioning scheme. The net result is that the lots of packages will get changed to newer versions from newer OSTree repo, that has been composed from a newer Photon OS 2.0 RPMS repo. Again, I didn&apos;t say &quot;upgraded&quot;, neither the rebase command output, that lists &quot;changed&quot; packages. Some obsolete packages will be removed, new packages will be added, either because they didn&apos;t exist in 1.0 repo, or because the new config file includes them.<br>The OS name is the same (Photon), so the content in /var and /etc will be transferred over.  </p>
<ol>
<li>To install fresh, deploy a Photon 1.0 Rev2 host default, as described in <a href="Photon-RPM-OSTree-2-Installing-a-host-against-default-server-repository.html">Chapter 2</a>. Of course, if you already have an existing Photon OS 1.0 host that you want to move to 2.0, skip this step.</li>
<li>Edit /ostree/repo/config and substitute the url, providing the IP address for the Photon OS 2.0 RPM-OSTree server installed above. This was explained in <a href="Photon-RPM-OSTree-10-Remotes.html#102-switching-repositories">Chapter 10</a>.<br>ostree should confirm that is the updated server IP for the &quot;photon&quot; remote.<pre><code>root@ostree-host [ ~ ]# ostree remote show-url photon
http://10.118.101.180
</code></pre></li>
<li>Rebase your host to the new 2.0 server and Refspec.
```
root@ostree-host [ ~ ]# rpm-ostree rebase photon/2.0/x86_64/minimal</li>
</ol>
<p>549 metadata, 2654 content objects fetched; 119853 KiB transferred in 17 seconds
Copying /etc changes: 6 modified, 0 removed, 14 added
Transaction complete; bootconfig swap: yes deployment count change: 1
Deleting ref &apos;photon:photon/1.0/x86_64/minimal&apos;
Changed:
  Linux-PAM 1.2.1-3.ph1 -&gt; 1.3.0-1.ph2
  attr 2.4.47-3.ph1 -&gt; 2.4.47-4.ph2
  autogen-libopts 5.18.7-2.ph1 -&gt; 5.18.12-2.ph2
  bash 4.3.30-4.ph1 -&gt; 4.4-5.ph2
  bc 1.06.95-3.ph1 -&gt; 1.06.95-3.ph2
  binutils 2.25.1-2.ph1 -&gt; 2.29-3.ph2
  bridge-utils 1.5-3.ph1 -&gt; 1.6-1.ph2
  bzip2 1.0.6-6.ph1 -&gt; 1.0.6-8.ph2
  ca-certificates 20160109-5.ph1 -&gt; 20170406-3.ph2
  coreutils 8.25-2.ph1 -&gt; 8.27-2.ph2
  cpio 2.12-2.ph1 -&gt; 2.12-3.ph2
  cracklib 2.9.6-2.ph1 -&gt; 2.9.6-8.ph2
  cracklib-dicts 2.9.6-2.ph1 -&gt; 2.9.6-8.ph2
  curl 7.51.0-2.ph1 -&gt; 7.54.1-1.ph2
  dbus 1.8.8-5.ph1 -&gt; 1.11.12-1.ph2
  device-mapper 2.02.141-5.ph1 -&gt; 2.02.171-3.ph2
  device-mapper-libs 2.02.141-5.ph1 -&gt; 2.02.171-3.ph2
  docker 1.12.1-1.ph1 -&gt; 17.06.0-1.ph2
  dracut 044-3.ph1 -&gt; 045-4.ph2
  dracut-tools 044-3.ph1 -&gt; 045-4.ph2
  elfutils-libelf 0.165-2.ph1 -&gt; 0.169-1.ph2
  expat 2.2.0-1.ph1 -&gt; 2.2.0-2.ph2
  file 5.24-2.ph1 -&gt; 5.30-2.ph2
  filesystem 1.0-8.ph1 -&gt; 1.0-13.ph2
  findutils 4.6.0-2.ph1 -&gt; 4.6.0-3.ph2
  flex 2.5.39-3.ph1 -&gt; 2.6.4-2.ph2
  glib 2.47.6-2.ph1 -&gt; 2.52.1-2.ph2
  glib-networking 2.46.1-2.ph1 -&gt; 2.50.0-1.ph2
  glibc 2.22-9.ph1 -&gt; 2.26-1.ph2
  gmp 6.0.0a-3.ph1 -&gt; 6.1.2-2.ph2
  gnutls 3.4.11-2.ph1 -&gt; 3.5.10-1.ph2
  gobject-introspection 1.46.0-2.ph1 -&gt; 1.52.1-4.ph2
  gpgme 1.6.0-2.ph1 -&gt; 1.9.0-2.ph2
  grep 2.21-2.ph1 -&gt; 3.0-3.ph2
  grub2 2.02-5.ph1 -&gt; 2.02-9.ph2
  gzip 1.6-2.ph1 -&gt; 1.8-1.ph2
  iana-etc 2.30-2.ph1 -&gt; 2.30-2.ph2
  iproute2 4.2.0-2.ph1 -&gt; 4.10.0-3.ph2
  iptables 1.6.0-5.ph1 -&gt; 1.6.1-4.ph2
  json-glib 1.0.4-2.ph1 -&gt; 1.2.8-1.ph2
  kmod 21-4.ph1 -&gt; 24-3.ph2
  krb5 1.14-4.ph1 -&gt; 1.15.1-2.ph2
  libarchive 3.1.2-7.ph1 -&gt; 3.3.1-1.ph2
  libassuan 2.4.2-2.ph1 -&gt; 2.4.3-1.ph2
  libcap 2.25-2.ph1 -&gt; 2.25-7.ph2
  libffi 3.2.1-2.ph1 -&gt; 3.2.1-5.ph2
  libgcc 5.3.0-3.ph1 -&gt; 6.3.0-3.ph2
  libgcrypt 1.6.5-2.ph1 -&gt; 1.7.6-1.ph2
  libgomp 5.3.0-3.ph1 -&gt; 6.3.0-3.ph2
  libgpg-error 1.21-2.ph1 -&gt; 1.27-1.ph2
  libgsystem 2015.1-2.ph1 -&gt; 2015.2-1.ph2
  librepo 1.7.17-2.ph1 -&gt; 1.7.20-2.ph2
  libselinux 2.5-2.ph1 -&gt; 2.6-4.ph2
  libsepol 2.5-2.ph1 -&gt; 2.6-1.ph2
  libsolv 0.6.19-2.ph1 -&gt; 0.6.26-3.ph2
  libsoup 2.53.90-2.ph1 -&gt; 2.57.1-2.ph2
  libssh2 1.8.0-1.ph1 -&gt; 1.8.0-1.ph2
  libstdc++ 5.3.0-3.ph1 -&gt; 6.3.0-3.ph2
  libtasn1 4.7-3.ph1 -&gt; 4.10-1.ph2
  libtool 2.4.6-2.ph1 -&gt; 2.4.6-3.ph2
  libxml2 2.9.4-3.ph1 -&gt; 2.9.4-11.ph2
  linux 4.4.41-1.ph1 -&gt; 4.9.43-2.ph2
  m4 1.4.17-2.ph1 -&gt; 1.4.18-1.ph2
  mkinitcpio 19-2.ph1 -&gt; 23-3.ph2
  mpfr 3.1.3-2.ph1 -&gt; 3.1.5-1.ph2
  ncurses 6.0-2.ph1 -&gt; 6.0-10.ph2
  net-tools 1.60-7.ph1 -&gt; 1.60-10.ph2
  nettle 3.2-2.ph1 -&gt; 3.3-1.ph2
  nspr 4.12-2.ph1 -&gt; 4.15-1.ph2
  nss-altfiles 2.19.1-2.ph1 -&gt; 2.23.0-1.ph2
  openssh 7.4p1-1.ph1 -&gt; 7.5p1-4.ph2
  openssl 1.0.2j-1.ph1 -&gt; 1.0.2l-1.ph2
  ostree 2015.7-5.ph1 -&gt; 2017.5-1.ph2
  pcre 8.39-1.ph1 -&gt; 8.40-4.ph2
  photon-release 1.0-6.ph1 -&gt; 2.0-1.ph2
  pkg-config 0.28-2.ph1 -&gt; 0.29.2-1.ph2
  popt 1.16-2.ph1 -&gt; 1.16-4.ph2
  procps-ng 3.3.11-3.ph1 -&gt; 3.3.12-2.ph2
  readline 6.3-4.ph1 -&gt; 7.0-2.ph2
  rpm-ostree 2015.7-2.ph1 -&gt; 2017.5-1.ph2
  sed 4.2.2-2.ph1 -&gt; 4.4-2.ph2
  shadow 4.2.1-8.ph1 -&gt; 4.2.1-13.ph2
  systemd 228-32.ph1 -&gt; 233-7.ph2
  util-linux 2.27.1-2.ph1 -&gt; 2.29.2-3.ph2
  vim 7.4-6.ph1 -&gt; 8.0.0533-3.ph2
  which 2.21-2.ph1 -&gt; 2.21-3.ph2
  xz 5.2.2-2.ph1 -&gt; 5.2.3-2.ph2
  zlib 1.2.8-3.ph1 -&gt; 1.2.11-1.ph2
Removed:
  db-6.1.26-2.ph1.x86_64
  e2fsprogs-1.42.13-2.ph1.x86_64
  gdbm-1.11-2.ph1.x86_64
  hawkey-2014.1-4.ph1.x86_64
  iputils-20151218-3.ph1.x86_64
  libhif-0.2.2-2.ph1.x86_64
  lua-5.3.2-2.ph1.x86_64
  nss-3.25-1.ph1.x86_64
  python2-2.7.11-8.ph1.x86_64
  python2-libs-2.7.11-8.ph1.x86_64
  rpm-4.11.2-11.ph1.x86_64
  sqlite-autoconf-3.11.0-2.ph1.x86_64
  tcsh-6.19.00-4.ph1.x86_64
Added:
  bubblewrap-0.1.8-1.ph2.x86_64
  bzip2-libs-1.0.6-8.ph2.x86_64
  ca-certificates-pki-20170406-3.ph2.x86_64
  curl-libs-7.54.1-1.ph2.x86_64
  e2fsprogs-libs-1.43.4-2.ph2.x86_64
  expat-libs-2.2.0-2.ph2.x86_64
  fuse-2.9.7-2.ph2.x86_64
  gnupg-2.1.20-2.ph2.x86_64
  libdb-5.3.28-1.ph2.x86_64
  libksba-1.3.5-1.ph2.x86_64
  libltdl-2.4.6-3.ph2.x86_64
  libseccomp-2.3.2-1.ph2.x86_64
  ncurses-libs-6.0-10.ph2.x86_64
  ncurses-terminfo-6.0-10.ph2.x86_64
  npth-1.3-1.ph2.x86_64
  nss-libs-3.31-2.ph2.x86_64
  openssh-clients-7.5p1-4.ph2.x86_64
  openssh-server-7.5p1-4.ph2.x86_64
  pcre-libs-8.40-4.ph2.x86_64
  pinentry-1.0.0-2.ph2.x86_64
  rpm-libs-4.13.0.1-5.ph2.x86_64
  sqlite-libs-3.19.3-1.ph2.x86_64
  util-linux-libs-2.29.2-3.ph2.x86_64
  xz-libs-5.2.3-2.ph2.x86_64</p>
<p>root@ostree-host [ ~ ]# rpm-ostree status
  TIMESTAMP (UTC)         VERSION           ID             OSNAME     REFSPEC<br>  2017-08-31 18:19:36     2.0_minimal       f4497b1948     photon     photon:photon/2.0/x86_64/minimal</p>
<ul>
<li>2017-01-11 02:18:42     1.0_minimal.1     4a21972b29     photon     photon:photon/1.0/x86_64/minimal<pre><code>That&apos;s it! You may now reboot to the new Photon OS 2.0 image. The updated ostree and rpm-ostree packages have a slightly changed output format:
</code></pre>root@ph2-ostree-host [ ~ ]# rpm-ostree status
State: idle
Deployments:</li>
<li><p>photon:photon/2.0/x86_64/minimal</p>
<pre><code>       Version: 2.0_minimal (2017-08-31 18:19:36)
        Commit: f4497b194826adb0db6e17a6867df04edd1dc1ebe796a73db9f19b973b5658df
</code></pre><p>photon:photon/1.0/x86_64/minimal</p>
<pre><code>       Version: 1.0_minimal.1 (2017-01-11 02:18:42)
        Commit: 4a21972b293978d39777017ccb33dde45713dd435b3cb77ee42161e7e849e5e4
</code></pre><p>```</p>
</li>
</ul>
<p>There are some side effects of installing Photon OS 2.0 based on the skeleton of a 1.0. For one, the custom disk partitioning is not available in 1.0. There could be others, I cannot think of now.</p>
<h2 id="124-creating-a-host-raw-image">12.4 Creating a host raw image</h2>
<p>It is now possible to run at server a script that is part of RPM-OStree package, to create a host raw mage.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.html#113-reboot-into-a-newly-created-image" class="navigation navigation-prev " aria-label="Previous page: Reboot into a newly created image">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.html#121-installing-an-rpm-ostree-server" class="navigation navigation-next " aria-label="Next page: Installing an RPM-OSTree server">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Install or rebase to Photon OS 2.0","level":"1.3.2.12","depth":3,"next":{"title":"Installing an RPM-OSTree server","level":"1.3.2.12.1","depth":4,"anchor":"#121-installing-an-rpm-ostree-server","path":"Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.md","ref":"Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.md#121-installing-an-rpm-ostree-server","articles":[]},"previous":{"title":"Reboot into a newly created image","level":"1.3.2.11.3","depth":4,"anchor":"#113-reboot-into-a-newly-created-image","path":"Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.md","ref":"Photon-RPM-OSTree-11-Running-container-applications-between-bootable-images.md#113-reboot-into-a-newly-created-image","articles":[]},"dir":"ltr"},"config":{"plugins":["insert-logo","chapter-fold","edit-link","noembed"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"chapter-fold":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"noembed":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"edit-link":{"label":"Edit this Page","base":"https://github.com/vmware/photon/tree/master/docs"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"insert-logo":{"style":"background: none","url":"images/photonos-logo-sm.png"}},"theme":"default","pdf":{"pageBreaksBefore":"/","headerTemplate":"_TITLE_","paperSize":"letter","margin":{"right":62,"left":62,"top":56,"bottom":56},"fontSize":12,"fontFamily":"Arial","footerTemplate":"_PAGENUM_","chapterMark":"pagebreak","pageNumbers":true},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"VMware Photon OS 1.0 and 2.0 Documentation","gitbook":"3.x.x"},"file":{"path":"Photon-RPM-OSTree-Install-or-rebase-to-Photon-OS-2.0.md","mtime":"2018-10-12T07:02:53.492Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-10-16T08:29:51.824Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-insert-logo/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-chapter-fold/chapter-fold.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-noembed/scripts.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

